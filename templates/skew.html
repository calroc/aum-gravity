{% extends "kmk.html" %}
{% block extra_head %}
<style>
svg {
  border: 2px solid black;
}
ellipse.node {
  stroke: gray;
  stroke-width: 1.5px;
}
</style>
{% endblock %}
{% block script %}
<script>

var DATA = _.range(1, 24)
var width = 1500, height = 240, marg = 23;
var w = d3.scale.linear().domain([0, 24]).range([marg, width - marg]);
var rad = d3.scale.linear().domain([1, 23]).range([0.0, 6.283185307179586]);
var deg = d3.scale.linear().domain([1, 23]).range([0.0, 360.0]);

$(function() {

  var the_svg = $("#pony");
  var aspect = the_svg.width() / the_svg.height();
  $(window).on("resize", function() {
    var the_svg = $("#pony");
    var container = $("#container");
    var targetWidth = container.width();
    the_svg.attr("width", targetWidth);
    the_svg.attr("height", Math.round(targetWidth / aspect));
  }).trigger("resize");

  var svg = d3.select("svg");
  var g = svg.append("svg:g");
  var cs = g.selectAll("circle")
      .data(DATA)
    .enter().append("circle")
      .attr("cx", w)
      .attr("cy", height)
      .attr("r", 15)
      ;

});
</script>
{% endblock %}
{% block body %}
<h1>Hi There!</h1>
<div id="container">
<svg id="pony" width="1500" height="480" viewBox="0 0 1500 480" perserveAspectRatio="xMidYMid"></svg>
<a href="#" id="zoom">zoom</a>
<a href="#" id="clickit">clickit</a>
</div>
{% endblock %}
